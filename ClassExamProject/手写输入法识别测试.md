# 手写输入法识别测试

下面将详细测试基于Qt的窗口应用程序——手写输入法。

## 1. 界面设计以及说明

本程序是基于Qt + windows API 开发的，需要Qt以及Windows的环境。

### 1.1 主界面以及说明
运行程序之后，可以看到：
![](https://oss-liuchengtu.hudunsoft.com/userimg/8a/8a1d55252be2dd53971826da412154f7.png)

下面是每一个界面组件功能的解释：
![](https://oss-liuchengtu.hudunsoft.com/userimg/cc/cc90f0d6d4350f97764fb2cef5b89156.png)

从上图中可以看到，按钮`单字手写`变为蓝底，显示高亮，表明当前的识别模式是“单字手写识别”。如果想要使用多字识别的功能，直接点击按钮`多字手写`，就可以实现模式的切换。如下是多字识别模式：
![](https://oss-liuchengtu.hudunsoft.com/userimg/a0/a0089814a1f1c86b5d55e9ea774d86ba.png)
布局和单字识别差不多，但是手写区域拉长之后，就能给用户更好的体验。

初始界面默认为支持汉字识别，想要更快速的输入符号，可以点击符号按钮来查找符号。
![](https://oss-liuchengtu.hudunsoft.com/userimg/45/458588b07d74aed99816c93d041e8526.png)


### 1.2 子窗口以及说明

**设置**子窗口
点击设置，按钮会变成蓝色，按钮的提示文本会变成“关闭窗口”，并弹出窗口，如下：
![](https://oss-liuchengtu.hudunsoft.com/userimg/00/001506304f832806868d87ae74e4f955.png)

再次点击按钮，按钮会再次变回白色并关闭窗口。
从运行结果可以看到，设置界面主要有四种功能：
1. 设置墨迹颜色，对中间的手写区域有效。
2. 设置墨迹粗细，对中间的手写区域有效。
3. 设置候选框内的字号，对右侧的候选框按钮有效。
4. 恢复默认设置。

**特殊符号栏** 子窗口

运行结果如下：
![](https://oss-liuchengtu.hudunsoft.com/userimg/2e/2e1e302f8c0349ab230d5fbf0e7ad2d4.png)

同理，数字符号和字母符号也是一样的：
![](https://oss-liuchengtu.hudunsoft.com/userimg/58/588d4f76107b2c52f1f71ab7f921fb3b.png)
![](https://oss-liuchengtu.hudunsoft.com/userimg/36/3699e9ce95884f71fb35e2cf28937cc7.png)


## 2. 单字手写识别功能

![](https://oss-liuchengtu.hudunsoft.com/userimg/b2/b2d51a5b9701be91d1c26210401a7e33.png)
![](https://oss-liuchengtu.hudunsoft.com/userimg/ee/eeea8c85bf5b81b2d670d62d24366c33.png)
![](https://oss-liuchengtu.hudunsoft.com/userimg/10/1090394a65abf1084616922edb3af10a.png)
![](https://oss-liuchengtu.hudunsoft.com/userimg/ea/ea52527e11597c61e889467bff92f8ea.png)


## 3. 多字手写识别功能

![](https://oss-liuchengtu.hudunsoft.com/userimg/fd/fda4b5d0a6b005a537f2df8177076a68.png)

![](https://oss-liuchengtu.hudunsoft.com/userimg/6a/6a976cd91f3ed0fbb932d633d7b0f340.png)

![](https://oss-liuchengtu.hudunsoft.com/userimg/af/af7f538f5f713c9cf1e3a65242e27764.png)

![](https://oss-liuchengtu.hudunsoft.com/userimg/6a/6afa4b9fe719d033edb26e3d7051cbb7.png)

![](https://oss-liuchengtu.hudunsoft.com/userimg/6c/6c1121004c26417cb4bed4e5aabb5b85.png)


## 4. 重写功能测试

多字识别模式和单字识别模式的重写功能一样，以单字识别为例，进行测试：
![](https://oss-liuchengtu.hudunsoft.com/userimg/30/308da6feb2993be69760e39f9340f9d7.png)
![](https://oss-liuchengtu.hudunsoft.com/userimg/ef/ef817ac0a90d2758286640d57e4d2f73.png)


## 5. 退一笔功能功能测试

这是最开始的字：
![](https://oss-liuchengtu.hudunsoft.com/userimg/42/426acf1af5bfa2e3f5632dcb680ff112.png)
退一笔之后:
![](https://oss-liuchengtu.hudunsoft.com/userimg/91/9186f6ed8a3325f80241aa33c9aa0cc9.png)
再退一笔：
![](https://oss-liuchengtu.hudunsoft.com/userimg/9f/9f6e46c65ba7801ccbef813fc9623bae.png)
后面以此类推：
![](https://oss-liuchengtu.hudunsoft.com/userimg/34/3429d7cdff57e8e3fbe2d7b73181bed0.png)
![](https://oss-liuchengtu.hudunsoft.com/userimg/55/55e9425750db579abbf2b0c7c1a32656.png)
![](https://oss-liuchengtu.hudunsoft.com/userimg/32/32a798fdcb073bf90167fb000829d3e8.png)
![](https://oss-liuchengtu.hudunsoft.com/userimg/7e/7ec4eb43ef9d7a0e96a430de07091c14.png)
![](https://oss-liuchengtu.hudunsoft.com/userimg/f3/f3a53ccb0fd9e04ac83319411937db23.png)

下面是部分调试信息：
![](https://oss-liuchengtu.hudunsoft.com/userimg/31/3144ad6e5889e721a49b8e0934a70085.png)


## 6. 设置功能

不设置墨迹样式和候选字字号的时候，会有一个默认样式，无论怎么改，都可以从设置界面的“恢复默认设置”按钮改回来。
默认样式展示如下：
![](https://oss-liuchengtu.hudunsoft.com/userimg/72/72d291eb91bf0b9564b3dd256280ef3a.png)

![](https://oss-liuchengtu.hudunsoft.com/userimg/2d/2d43d6f9167b65c76645c9193b22c302.png)


下面随机搭配几组样式演示一下：

**1**

墨迹颜色：红
墨迹粗细：5
候选字号：6

![](https://oss-liuchengtu.hudunsoft.com/userimg/4d/4d7e634163f3d12281e69a3a5db99787.png)
设置是全局的，多字识别和单字识别的模式的墨迹样式都会变化：
![](https://oss-liuchengtu.hudunsoft.com/userimg/85/853c8d50f3679e18a1f1b1e582fd8ed8.png)
![](https://oss-liuchengtu.hudunsoft.com/userimg/e1/e1fb92bd17ebcbd6b1faef7041fae179.png)


**2**
墨迹颜色：蓝
墨迹粗细：6
候选字号：4

![](https://oss-liuchengtu.hudunsoft.com/userimg/f3/f3b7ac4fd737a3a6c5140e4105d9777e.png)

![](https://oss-liuchengtu.hudunsoft.com/userimg/87/879d840187d52dee4d998b7f0107cd88.png)

![](https://oss-liuchengtu.hudunsoft.com/userimg/a7/a7f939ad5c3c5cea8e56f3b2e29a8e32.png)


**3**
墨迹颜色：紫
墨迹粗细：2
候选字号：3

![](https://oss-liuchengtu.hudunsoft.com/userimg/11/11c333b032345684c972b1b225cda4d4.png)
![](https://oss-liuchengtu.hudunsoft.com/userimg/be/becbf81438286726e971d84b83643efc.png)
![](https://oss-liuchengtu.hudunsoft.com/userimg/9b/9b6ad834b570c229d67a6a1f32ea7c9c.png)

再次恢复默认设置：

![](https://oss-liuchengtu.hudunsoft.com/userimg/97/97fab5c56dfb614d5f23d7cf95fc9911.png)
![](https://oss-liuchengtu.hudunsoft.com/userimg/c9/c9023784121de2323b5a2b0466678fef.png)

甚至可以换不同的颜色，但是不建议这样做，因为会出现显示不正常的问题，就是墨迹集合里面是保存了墨迹的，但是又是不会刷新在手写区域里面。要想全部显示出来，需要点击退一笔操作，因为这个操作会刷新手写区域，强制显示笔迹。

![](https://oss-liuchengtu.hudunsoft.com/userimg/6f/6fa887f44d8d189e488e7fe01ac7e17a.png)


## 中英文混合输入

![](https://oss-liuchengtu.hudunsoft.com/userimg/d6/d696c540be2b6b6c4bad2f0231a336a8.png)
![](https://oss-liuchengtu.hudunsoft.com/userimg/e4/e4b5a1045d6157c7afa1ed5d1c23331e.png)


## 特殊符号识别
![](https://oss-liuchengtu.hudunsoft.com/userimg/fe/fe9b48bfeccf3c0307a46e64ab6e694c.png)
![](https://oss-liuchengtu.hudunsoft.com/userimg/49/49c00c5440bc5fbe69e6cf616550e518.png)
![](https://oss-liuchengtu.hudunsoft.com/userimg/3a/3aacc87b1ea8a1ebd342924c9a09cee4.png)
![](https://oss-liuchengtu.hudunsoft.com/userimg/fc/fc3b97fcb920297b37a048d2e0cfd546.png)




2024.11.27更
tips: 关于叠加识别和联想字的扩展功能，目前还没有时间做。快期末考试了，我先一边复习一边想一下怎么设计这两个扩展模块。
目前对于联想字的想法是使用一个字典树，字典树将常见的字词短句组合起来构成一颗树，然后根据识别的结果，在树上匹配字词。目前只是有这个想法，但是对于常用的字词句去哪里整合下载资源，我还不知道去哪里找呢，如果实在不行，就自己整合一下。其实这样想，用户个性化输入也可以使用这样的方式，每次用户输入的文本都可以看成一个常用字词的组合，然后加到树里面去构建。





















